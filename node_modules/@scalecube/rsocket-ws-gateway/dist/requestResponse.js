"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.requestResponse = void 0;
var rsocket_flowable_1 = require("rsocket-flowable");
var singleHandler = function (serviceCall, data, subscriber) {
    subscriber.onSubscribe();
    serviceCall
        .requestResponse(data)
        .then(function (resp) {
        // console.log('RESP', resp);
        subscriber.onComplete({ data: resp });
    })
        .catch(function (err) {
        subscriber.onError(err);
    });
};
exports.requestResponse = function (_a, serviceCall, handler) {
    var data = _a.data;
    if (handler === void 0) { handler = singleHandler; }
    return new rsocket_flowable_1.Single(handler.bind(null, serviceCall, data));
};
